<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Mission Safehouse</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/top-section.css">
    <link rel="stylesheet" href="styles/navbar.css">
    
    <style>
        /* --- CSS Variables (Consolidated) --- */
        :root{
            --green: #479744;
            --grey: #423f3f;
            --white: #ffffff;
            --light-grey: #f4f4f4;
            /* Added for button styling if not in your linked stylesheets */
            --text-color-dark: #3c4043;
            --border-color-light: #dadce0;
        }

        /* --- New: Reading Progress Bar Style --- */
        .reading-progress-bar {
            position: absolute;
            bottom: 0; /* Align it to the bottom of the navbar */
            left: 0;
            height: 3px; /* Thin line */
            background-color: var(--green);
            width: 0%; /* Start at 0% width */
            z-index: 1001; /* Ensure it's above other elements */
            transition: width 0.1s linear; /* Smooth width changes */
        }
        
        /* Note: Ensure your .navbar has position: relative; in your linked CSS */
        /* Example: 
        .navbar {
            position: relative;
            z-index: 1000;
            ... other styles ...
        }
        */

    </style>
</head>
<body>
    <header class="container">
        <nav class="navbar">
            <div class="logo">
                <img class="logo-img" src="images/logo.png" alt="The Mission Safehouse Logo">
            </div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="about.html">About Us</a>
                <a href="programs.html">Programs</a>
                <a href="get-involved.html">Get Involved</a>
            </div>
            
            <div class="reading-progress-bar"></div>
            
        </nav>
        
        <div class="top-section">
           <div class="hero-content">
                <h1>Transforming Your Vision into <span class="highlight">Reality</span></h1>
                <p>We build beautiful, functional, and user-friendly websites that drive results. Let's create something amazing together.</p>
                <a href="contact.html" class="cta-button">Get In Touch</a>
            </div>
        </div>
    </header>
    
    <div class="line">
        <div class="green color"></div>
        <div class="cream color"></div>
        <div class="grey color"></div>
    </div>
    
    <main>
        <section class="content-section">
            <div class="head">
                <h2>Our Mission</h2>
            </div>
    <div class="linevr">
        <div class="green colorvr"></div>
        <div class="cream colorvr"></div>
        <div class="grey colorvr"></div>
    </div>
            <div class="content">
            <p>This is a new section where you can describe your mission, services, or any other important information. Using distinct sections helps organize your content and guide your visitors through the site.</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum ac felis id purus interdum auctor. Fusce vel ante eget odio tincidunt ultrices. Proin nec ex vel turpis luctus consequat. Nulla facilisi. Sed sit amet lacus eu sapien efficitur ultricies. Sed ac feugiat justo.</p>
            <p>Suspendisse potenti. Curabitur vel justo non magna sollicitudin posuere. Praesent nec enim ut ex vehicula bibendum. Ut at nulla eu ex pulvinar congue. Ut non velit at dui tristique commodo. Quisque eu justo ac odio gravida hendrerit. Etiam id lacus vitae urna consequat ultricies.</p>
            </div>
        </section>
    </main>

    <script>
        const navbar = document.querySelector('.navbar');
        const progressBar = document.querySelector('.reading-progress-bar');

        // Function to handle the navbar style change on scroll
        const handleNavbarScroll = () => {
            if (window.scrollY > 50) { 
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        };

        // Function to calculate reading progress
        const handleReadingProgress = () => {
            // Get the total height of the document content that is scrollable
            const totalHeight = document.body.scrollHeight - window.innerHeight;
            
            // Get the current vertical scroll position
            const currentScroll = window.scrollY;
            
            // Calculate the percentage, ensuring we don't divide by zero if content is short
            if (totalHeight > 0) {
                const scrollPercentage = (currentScroll / totalHeight) * 100;
                progressBar.style.width = scrollPercentage + '%';
            } else {
                // If content fits on one screen, set to 100% or 0% as desired
                progressBar.style.width = '100%'; 
            }
        };

        // Add event listeners for both functions
        window.addEventListener('scroll', handleNavbarScroll);
        window.addEventListener('scroll', handleReadingProgress);

        // Run the functions once on load to initialize correct state
        handleNavbarScroll();
        handleReadingProgress();
    </script>
</body>
</html>